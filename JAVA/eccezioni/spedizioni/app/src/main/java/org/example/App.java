/*
 * This source file was generated by the Gradle 'init' task
 */
package org.example;

import org.example.exceptions.SpedizioneNonTrovataException;
import org.example.model.ISpedizione;
import org.example.model.Spedizione;
import org.example.service.GestoreSpedizioni;

public class App {
    public String getGreeting() {
        return "Hello World!";
    }

    public static void main(String[] args) {
        GestoreSpedizioni gestore = GestoreSpedizioni.getInstance();

        // Aggiungiamo alcune spedizioni
        gestore.aggiungiSpedizione(new Spedizione(1, "Mario Rossi", "Via Roma 1, Milano"));
        gestore.aggiungiSpedizione(new Spedizione(2, "Luca Bianchi", "Via Verdi 5, Torino"));

        // Visualizza tutte le spedizioni
        System.out.println("Lista spedizioni:");
        gestore.visualizzaSpedizioni();

        // Cerca una spedizione per ID
        try {
            ISpedizione spedizione = gestore.cercaSpedizione(1);
            System.out.println("Spedizione trovata: " + spedizione);
        } catch (SpedizioneNonTrovataException e) {
            System.err.println(e.getMessage());
        }

        // Prova a cercare una spedizione inesistente
        try {
            ISpedizione spedizione = gestore.cercaSpedizione(3);
            System.out.println("Spedizione trovata: " + spedizione);
        } catch (SpedizioneNonTrovataException e) {
            System.err.println(e.getMessage()); //instanzio "e" una classe di tipo eccezione, e genero il messaggio che ho messo sul gestore
        }
    }
}

//Il blocco catch cattura questa eccezione e la assegna alla variabile e (che Ã¨ un oggetto della classe SpedizioneNonTrovataException).
//Si chiama e.getMessage(), che restituisce il messaggio dell'errore (definito nel throw new SpedizioneNonTrovataException("Spedizione con ID " + id + " non trovata");).
//System.err.println(e.getMessage()); stampa il messaggio di errore nella console, ma usando System.err, che di solito indica errori e potrebbe apparire in rosso nei terminali.